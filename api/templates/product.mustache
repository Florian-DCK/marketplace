<form enctype="multipart/form-data" method="POST">
    <div class="m-4 flex flex-col rounded-2xl relative h-screen">
        <div class="self-start w-full h-20 flex relative js-group-hover-height">
            <div class="bg-[#303F9F] text-[#FFC107] w-[calc(100%-40px)] text-sm text-left px-2 py-2 mt-1 rounded-t-2xl text-nowrap overflow-hidden flex flex-col">
            <input type="text" 
                    name="title" 
                    id="title" 
                    required
                    placeholder="Add a product name"
                    class="focus:outline-none rounded-md m-2 text-2xl">
            </div>
            <div class="flex p-4">
                <select name="event" id="event">
                    <option value="new">New</option>
                    <option value="sales">Sales</option>
                    <option value="trending">Trending</option>
                    <option value="flash">Flash</option>
                </select>
            </div>
        </div>
        <div class="bg-[#303F9F] border border-[#FFC107] border-dashed w-[calc(100%-40px)] self-start"></div>
        <div class="bg-[#303F9F] text-[#FFC107] flex flex-col items-center justify-center w-full h-full rounded-b-2xl space-y-2 border">
            <div class="w-2/3 h-3/4 flex flex-col">
                <label for="image" class="flex justify-center">Add an image</label>
                <input  type="file" 
                        name="image"
                        id="image"
                        required
                        accept="image/*"
                        placeholder=""
                        onchange="previewImage(event)" 
                        class="cursor-pointer border rounded-lg w-full h-full"
                        >
                <img id="imagePreview" src="#" alt="Image Preview" class="hidden mt-4 w-36 h-36 object-cover rounded-lg drop-shadow-lg">
            </div>
            <div class="border-blue-500 border-4 border-double">
                <input  placeholder="Add a price"
                        class="ps-4 pe-2 absolute bottom-6 right-0 rounded-s-mdjs-group-hover-price transition-all duration-500">$
            </div>
            <div class="border-green-500 border-4 border-double">
                <textarea   placeholder="Add a description"
                            class="absolute opacity-0 transition-opacity duration-500 px-2 text-sm js-group-hover-desc bottom-6 text-center text-[#FFC107]">
                </textarea>
            </div>
        </div>
    </div>
</form>

<script>
function previewImage(event) {
    const input = event.target;
    const preview = document.getElementById('avatarPreview');
    const fileNameDisplay = document.getElementById('fileName');
    
    if (input.files && input.files[0]) {
        const reader = new FileReader();
        
        reader.onload = function(e) {
            preview.src = e.target.result;
            preview.classList.remove('hidden');
        }
        
        reader.readAsDataURL(input.files[0]);
        
        // Mettre à jour le nom du fichier affiché
        fileNameDisplay.textContent = input.files[0].name;
    } else {
        preview.classList.add('hidden');
        fileNameDisplay.textContent = "Choisir un fichier";
    }
}

document.getElementById('image').addEventListener('change', function(event) {
    const file = event.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
            const preview = document.getElementById('imagePreview');
            preview.src = e.target.result;
            preview.classList.remove('hidden');
        };
        reader.readAsDataURL(file);
    }
});
</script>



