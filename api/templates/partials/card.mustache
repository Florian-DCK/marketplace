<div>
    <div class="mb-5">
        <a href="/product?id={{id}}">
        <div class='w-48 h-78 flex flex-col items-center rounded-2xl relative drop-shadow-lg transition-all cursor-pointer group js-group flex-shrink-0 '>
            <div class="self-start w-full h-12 flex relative js-group-hover-height">
                <h3 class="bg-[#303F9F] text-[#FFC107] w-[calc(100%-40px)] text-sm text-left px-2 py-2 mt-1 rounded-t-2xl text-nowrap overflow-hidden js-scroll-title">{{title}}</h3>
                {{> badge}}
            </div>
            <div class="bg-[#303F9F] border border-[#FFC107] border-dashed w-[calc(100%-40px)] self-start"></div>
            <div class="bg-[#303F9F] flex flex-col items-center justify-center w-full h-full rounded-b-2xl rounded-tr-lg relative overflow-hidden shadow-lg shadow-blue-950">
                <img src="{{image}}" alt="{{name}}" class="mt-2 w-36 bg-white h-5/6 object-cover rounded-lg drop-shadow-lg transition-all duration-500 absolute top-0 group-hover:h-24">
                <p class="text-white {{# fast}}bg-[#FFC107]{{/ fast}} {{# trending}}bg-[#F64F01]{{/ trending}} {{# sales}}bg-[#2f36ff]{{/ sales}} {{# new}}bg-[#22b60f]{{/ new}} ps-4 pe-2 absolute bottom-6 right-0 rounded-s-md transition-all duration-500 transform group-hover:-translate-y-30">{{price}}$</p>
                <p class="absolute opacity-0 transition-opacity duration-500 px-2 text-sm bottom-6 text-center text-[#FFC107] group-hover:opacity-100">
                    {{description}}
                </p>
            </div>
        </div>
        </a>
    </div>
    
    {{#isAdmin}}
        <form method="POST">
            <input type="hidden" name="deleteArticle" value="{{id}}">
            <button type="submit" class="bg-red-500 mt-5 rounded-full px-2 py-1 text-white hover:bg-blue-700 z-10 cursor-pointer">Delete</button>
        </form>
    {{/isAdmin}}
    
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const groups = document.querySelectorAll('.js-group');
    
    groups.forEach(group => {
        group.addEventListener('mouseenter', function() {
            const img = this.querySelector('.js-group-hover-img');
            const desc = this.querySelector('.js-group-hover-desc');
            const price = this.querySelector('.js-group-hover-price');
            
            if (img) img.style.maxHeight = '6rem';  // 24 * 0.25rem
            if (desc) desc.style.opacity = '1';
            if (price) {
                price.style.transform = 'translateY(-7.5rem)';
            } 
        });
        
        group.addEventListener('mouseleave', function() {
            const img = this.querySelector('.js-group-hover-img');
            const desc = this.querySelector('.js-group-hover-desc');
            const price = this.querySelector('.js-group-hover-price');
            
            if (img) {
                img.style.maxHeight = '83.3%'; // 5/6
            }
            if (desc) desc.style.opacity = '0';
            if (price) {
                price.style.transform = 'translateY(0)';
            }
        });
    });
});
</script>